<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Online Voting System - Login</title>
<style>
  body { font-family: Arial, sans-serif; background: #2e2d2d; }
  .container { max-width: 500px; margin: 40px auto; padding: 20px; background: #baacac; border-radius: 8px; }
  input, button { width: 90%; padding: 10px; margin: 8px 0; border-radius: 4px; border: 1px solid #ccc; }
  button { background: #28a745; color: white; border: none; cursor: pointer; }
  button:hover { background: #1e7e34; }
  .link { margin-top: 10px; text-align: center; }
  .error { color: red; font-size: 0.9em; }

  body {
  background-color: rgb(36, 24, 24);
}
  
</style>
</head>
<body>

<div class="container">
  
  <h2>Login</h2>
  <form id="loginForm" >
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />
    <button type="submit">Login</button>
    <p class="error" id="errorMsg"></p>
  </form>
  <p class="link">New user? <a href="index.html">Register here</a></p>
</div>

<script>
  const loginForm = document.getElementById('loginForm');
  const errorMsg = document.getElementById('errorMsg');

  loginForm.addEventListener('submit', e => {
    e.preventDefault();
    errorMsg.textContent = '';

    const email = document.getElementById('email').value.trim().toLowerCase();
    const password = document.getElementById('password').value;

    let users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.email === email && u.password === password);

    if (!user) {
      errorMsg.textContent = 'Invalid email or password.';
      return;
    }

    localStorage.setItem('loggedInUser', JSON.stringify(user));
    window.location.href = 'dashboard.html';
  });
</script>

</body>
</html>
